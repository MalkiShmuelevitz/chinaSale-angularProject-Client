<p-toast />
<ng-template #formTemplate pTemplate="content">
    <form [formGroup]="frmEditGift">
        <!-- <img 
        [src]="'assets'+'/' + gift.image" 
        [alt]="gift.image" 
        class="block m-auto pb-3 gift-image"
        *ngIf="gift && gift.image"
         /> -->
         <img 
         [src]="'assets'+'/' + frmEditGift.controls['image'].value" 
         [alt]="frmEditGift.controls['image'].value" 
         class="block m-auto pb-3 gift-image"
         *ngIf="frmEditGift.controls['image'].value"
          />
        <div class="field">
            <label for="name">Name</label>
            <input type="text" pInputText id="name" formControlName="name" required autofocus />
            <!-- [(ngModel)]="gift.name" -->
            <!-- *ngIf="submitted && !gift.name" -->
            <!-- <small class="p-error" *ngIf="!gift.name">
                Name is required.
            </small> -->
            <small class="p-error" *ngIf="frmEditGift.controls['name'].errors?.['required'] && frmEditGift.controls['name'].dirty">Name is required</small>

        </div>
        <!-- <div class="field">
            <label for="donor">Donor</label>
            <input type="text" pInputText id="donor" formControlName="donor" required />
            [(ngModel)]="gift.name"
            *ngIf="submitted && !gift.name"
            <small class="p-error" *ngIf="!gift.donor">
                Donor is required.
            </small>
        </div> -->
        <div class="field">
            <label for="donor">Donor</label>
            <p-dropdown inputId="donor" 
            formControlName="donor" 
            [options]="donors2"
            placeholder="Select A Donor"
            [showClear]="true" 
            required>
                <!-- [(ngModel)]="gift.donor" -->
                <!-- <ng-template let-option pTemplate="item">
                    <p-tag [value]="option" />
                </ng-template> -->
            </p-dropdown>
            <!-- <p-dropdown inputId="donor" 
            formControlName="donor" 
            [options]="donors2" 
            (onChange)="onDonorChange($event)"
            >
                [(ngModel)]="gift.donor"
                <ng-template let-option pTemplate="item">
                    <p-tag [value]="option" />
                </ng-template>
            </p-dropdown> -->
            <small class="p-error" *ngIf="frmEditGift.controls['donor'].errors?.['required'] && frmEditGift.controls['donor'].dirty">Donor is required</small>

        </div>
        <div class="field">
            <label for="price">Price</label>
            <p-inputNumber 
            id="price" 
            formControlName="price" 
            class="w-full" 
            mode="currency" 
            currency="ILS" 
            locale="en-US"
            />
            <!-- <input id="price" pInputText formControlName="price" /> -->
            <!-- [(ngModel)]="gift.price" -->
            <!-- <small class="p-error" *ngIf="submitted && !gift.price">
                Price is required.
            </small> -->
            <small class="p-error" *ngIf="frmEditGift.controls['price'].errors?.['required'] && frmEditGift.controls['price'].dirty">Price is required</small>

        </div>
        <div class="field">

        <label for="image">Image</label>
            <input type="text" pInputText id="image" formControlName="image" />
        <!-- [(ngModel)]="gift.image" -->
        <!-- *ngIf="submitted && !gift.image" -->
        <!-- <small class="p-error" *ngIf="!gift.image">
                Image is required.
            </small> -->
        </div>
    </form>
</ng-template>

<ng-template #formTemplate2 pTemplate="footer">
    <div class="flex justify-content-end align-items-center w-full gap-2">
        <p-button label="Cancel" icon="pi pi-times" [text]="true" (onClick)="hideDialog()" />
        <!-- <button label="Cancel" (click)="hideDialog()">Cancel</button> -->
        <p-button label="Save" icon="pi pi-check" [text]="true" [disabled]="!frmEditGift.valid"
            (onClick)="saveGift()" />
        <!-- <button label="Save" [disabled]="!frmAddGift.valid" (click)="saveGift()">Save</button> -->
    </div>

</ng-template>

<ng-container *ngTemplateOutlet="formTemplate"></ng-container>
<ng-container *ngTemplateOutlet="formTemplate2"></ng-container>